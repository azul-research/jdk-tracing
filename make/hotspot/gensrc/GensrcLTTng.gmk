LTTNG_SOURCE_DIR := $(TOPDIR)/dev-tracing/lttng # $(TOPDIR)/src/hotspot/share/lttng

$(eval $(call SetupNativeCompilation, LTTNG_LIBS, \
   NAME := lttng, \
   OUTPUT_DIR := $(JVM_LIB_OUTPUTDIR), \
   SRC := $(LTTNG_SOURCE_DIR), \
   CFLAGS := -I$(LTTNG_SOURCE_DIR) -fpic, \
   LDFLAGS := $(SHARED_LIBRARY_FLAGS) -llttng-ust, \
   LIBS := $(LIBDL) -llttng-ust, \
   OBJECT_DIR := $(JVM_OUTPUTDIR)/objs_lttng, \
   DEFINE_THIS_FILE := false, \
))

TARGETS += $(LTTNG_LIBS)
